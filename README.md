# Idea Backup

ä¸€ä¸ªç”¨äºè‡ªåŠ¨å¤‡ä»½é¡¹ç›®çš„ Rust å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒæ™ºèƒ½å¿«ç…§ç®¡ç†å’Œå¢é‡å¤‡ä»½ã€‚

## ç‰¹æ€§

- ğŸš€ **æ™ºèƒ½å¿«ç…§ç®¡ç†** - åªå¤‡ä»½æœ‰å˜åŒ–çš„é¡¹ç›®ï¼Œé¿å…é‡å¤å¤‡ä»½
- ğŸ“ **è‡ªå®šä¹‰è¾“å…¥ç›®å½•** - æ”¯æŒæŒ‡å®šä»»æ„é¡¹ç›®ç›®å½•ï¼Œé»˜è®¤ä¸º `~/IdeaProjects`
- ğŸ”’ **7z åŠ å¯†å‹ç¼©** - ä½¿ç”¨å¯†ç ä¿æŠ¤çš„ 7z æ ¼å¼å‹ç¼©å¤‡ä»½æ–‡ä»¶
- ğŸ™ˆ **å®Œæ•´ .gitignore æ”¯æŒ** - è‡ªåŠ¨è§£æå¤šå±‚çº§ .gitignore æ–‡ä»¶ï¼Œæ”¯æŒ `**` é€šé…ç¬¦
- ğŸ“¦ **åŒ…å« Git å†å²** - å¯é€‰æ‹©å¤‡ä»½å®Œæ•´çš„ .git ç›®å½•å’Œå†å²è®°å½•
- ğŸ”§ **è·¯å¾„æ‰©å±•** - æ”¯æŒ `~` å’Œ `.` å­—ç¬¦çš„è·¯å¾„è§£æ
- ğŸ“Š **è¯¦ç»†ç»Ÿè®¡** - æ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹å’Œç»“æœç»Ÿè®¡

## å®‰è£…

### ä»æºç æ„å»º

```bash
git clone https://github.com/your-username/idea-backup.git
cd idea-backup
cargo build --release
```

ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶ä½äº `target/release/idea-backup`

### ç³»ç»Ÿè¦æ±‚

- Rust 1.70+
- 7z å·¥å…·ï¼ˆmacOS é€šè¿‡ Homebrew è‡ªåŠ¨å®‰è£…ï¼‰

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# ä½¿ç”¨é»˜è®¤è®¾ç½®å¤‡ä»½ ~/IdeaProjects ç›®å½•
./idea-backup -p your_password

# æŒ‡å®šè¾“å…¥å’Œè¾“å‡ºç›®å½•
./idea-backup -p your_password -i ~/MyProjects -o ~/Backups

# å¼ºåˆ¶å¤‡ä»½æ‰€æœ‰é¡¹ç›®ï¼ˆå¿½ç•¥å¿«ç…§æ£€æŸ¥ï¼‰
./idea-backup -p your_password --force
```

### å‘½ä»¤è¡Œå‚æ•°

```
USAGE:
    idea-backup [OPTIONS]

OPTIONS:
    -p, --password <PASSWORD>    å‹ç¼©æ–‡ä»¶çš„å¯†ç ï¼ˆä¼˜å…ˆäº .env æ–‡ä»¶ï¼‰
    -i, --input <INPUT>          è¦æ‰«æçš„é¡¹ç›®ç›®å½• [default: ~/IdeaProjects]
    -o, --output <OUTPUT>        å¤‡ä»½æ–‡ä»¶çš„è¾“å‡ºç›®å½•
    -f, --force                  å¼ºåˆ¶å¤‡ä»½æ‰€æœ‰é¡¹ç›®ï¼Œå¿½ç•¥å˜æ›´æ£€æµ‹
    -h, --help                   æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### ç¯å¢ƒå˜é‡é…ç½®

ä½ å¯ä»¥åˆ›å»º `.env` æ–‡ä»¶æ¥é…ç½®é»˜è®¤å¯†ç ï¼š

```bash
# .env æ–‡ä»¶
ZIP_PASSWORD=your_secure_password
```

## å·¥ä½œåŸç†

### å¿«ç…§ç®¡ç†

å·¥å…·ä¼šåœ¨è¾“å‡ºç›®å½•åˆ›å»º `.backup_snapshots.json` æ–‡ä»¶æ¥è·Ÿè¸ªæ¯ä¸ªé¡¹ç›®çš„çŠ¶æ€ï¼š

```json
{
  "projects": {
    "my-project": {
      "path": "/Users/username/IdeaProjects/my-project",
      "last_modified": 1672531200,
      "last_backup": 1672531200
    }
  }
}
```

### æ™ºèƒ½å¤‡ä»½é€»è¾‘

1. **é¦–æ¬¡è¿è¡Œ** - å¤‡ä»½æ‰€æœ‰å‘ç°çš„é¡¹ç›®
2. **åç»­è¿è¡Œ** - åªå¤‡ä»½æœ‰æ–‡ä»¶å˜æ›´çš„é¡¹ç›®
3. **å˜æ›´æ£€æµ‹** - éå†é¡¹ç›®æ–‡ä»¶ï¼Œæ¯”è¾ƒæœ€æ–°ä¿®æ”¹æ—¶é—´
4. **å¢é‡ä¼˜åŒ–** - å¿«é€Ÿæ£€æŸ¥é¿å…ä¸å¿…è¦çš„å®Œæ•´éå†

### .gitignore æ”¯æŒ

- âœ… æ”¯æŒå¤šå±‚çº§ .gitignore æ–‡ä»¶
- âœ… æ”¯æŒæ ‡å‡† gitignore è¯­æ³•ï¼ˆ`*`, `**`, `!`, `/`ï¼‰
- âœ… æ”¯æŒå¦å®šè§„åˆ™ (`!important.file`)
- âœ… æ”¯æŒç›®å½•ä¸“ç”¨è§„åˆ™ (`build/`)
- âœ… æ”¯æŒç»å¯¹è·¯å¾„è§„åˆ™ (`/root-only`)

## è¾“å‡ºæ–‡ä»¶

æ¯ä¸ªé¡¹ç›®ä¼šç”Ÿæˆä¸€ä¸ªåŠ å¯†çš„ 7z æ–‡ä»¶ï¼š

```
~/IdeaProjects/
â”œâ”€â”€ my-project/
â””â”€â”€ backups/
    â”œâ”€â”€ my-project_backup.7z
    â”œâ”€â”€ another-project_backup.7z
    â””â”€â”€ .backup_snapshots.json
```

## è§£å‹å·¥å…·

é¡¹ç›®åŒ…å«ä¸€ä¸ªé…å¥—çš„è§£å‹å·¥å…·ï¼š

```bash
# è§£å‹å¤‡ä»½æ–‡ä»¶
./7z-extractor path/to/backup.7z output_directory
```

## å¼€å‘

### è¿è¡Œæµ‹è¯•

```bash
cargo test
```

### ä»£ç æ£€æŸ¥

```bash
cargo clippy --fix --allow-dirty
```

### æ ¼å¼åŒ–ä»£ç 

```bash
cargo fmt
```

## è´¡çŒ®

1. Fork è¿™ä¸ªä»“åº“
2. åˆ›å»ºä½ çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤ä½ çš„æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æ‰“å¼€ä¸€ä¸ª Pull Request

## è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## æ›´æ–°æ—¥å¿—

### v0.1.0
- åˆå§‹ç‰ˆæœ¬
- æ™ºèƒ½å¿«ç…§ç®¡ç†
- å®Œæ•´ .gitignore æ”¯æŒ
- 7z åŠ å¯†å‹ç¼©
- è·¯å¾„æ‰©å±•æ”¯æŒ

## æŠ€æœ¯æ ˆ

- **Rust** - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- **clap** - å‘½ä»¤è¡Œå‚æ•°è§£æ
- **serde** - åºåˆ—åŒ–/ååºåˆ—åŒ–
- **7z** - å‹ç¼©å·¥å…·
